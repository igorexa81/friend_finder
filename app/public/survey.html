<!DOCTYPE html>
<html lang="eng">

<head>
    <meta charset="UTF-8">
    <title>FriendFinder</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
        integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <link href="https://fonts.googleapis.com/css?family=Raleway" rel="stylesheet">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
    <script src="https://code.jquery.com/jquery.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
    <script src="https://use.fontawesome.com/9c65db7902.js"></script>
    <link  rel="stylesheet" type="text/css" href="css/style.css">
</head>

<body>
    <div class="container">


        <h2>Survey Questions</h2>
        <hr>
        <h3>
            <strong>About You</strong>
        </h3>
        <h4>Name (Required)</h4>
        <input type="text" id="name" class="form-control" required>
        <h4>Link to Photo Image (required)</h4>
        <input type="text" id="photo" class="form-control" required>
        

        <h3>
            <strong>Question 1</strong>
        </h3>
        <h4>I think very highly of myself.</h4>
        <select class="choosen-select" id="q1">
            <option value="empty"></option>
            <option value="1">1(Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5(Strongly Agree)</option>
        </select>


        <h3>
            <strong>Question 2</strong>
        </h3>
        <h4>I'm good with money.</h4>
        <select class="choosen-select" id="q2">
            <option value="empty"></option>
            <option value="1">1(Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5(Strongly Agree)</option>
        </select>


        <h3>
            <strong>Question 3</strong>
        </h3>
        <h4>I play video games</h4>
        <select class="choosen-select" id="q3">
            <option value="empty"></option>
            <option value="1">1(Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5(Strongly Agree)</option>
        </select>

        <h3>
            <strong>Question 4</strong>
        </h3>
        <h4>I like outdoors</h4>
        <select class="choosen-select" id="q4">
            <option value="empty"></option>
            <option value="1">1(Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5(Strongly Agree)</option>
        </select>

        <h3>
            <strong>Question 5</strong>
        </h3>
        <h4></h4>
        <select class="choosen-select" id="q5">
            <option value="empty"></option>
            <option value="1">1(Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5(Strongly Agree)</option>
        </select>

        <h3>
            <strong>Question 6</strong>
        </h3>
        <h4>I want a drinking body</h4>
        <select class="choosen-select" id="q6">
            <option value="empty"></option>
            <option value="1">1(Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5(Strongly Agree)</option>
        </select>

        <h3>
            <strong>Question 7</strong>
        </h3>
        <h4>I like to travel</h4>
        <select class="choosen-select" id="q7">
            <option value="empty"></option>
            <option value="1">1(Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5(Strongly Agree)</option>
        </select>

        <h3>
            <strong>Question 8</strong>
        </h3>
        <h4>Being around people energizes me</h4>
        <select class="choosen-select" id="q8">
            <option value="empty"></option>
            <option value="1">1(Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5(Strongly Agree)</option>
        </select>

        <h3>
            <strong>Question 9</strong>
        </h3>
        <h4>I like animals</h4>
        <select class="choosen-select" id="q9">
            <option value="empty"></option>
            <option value="1">1(Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5(Strongly Agree)</option>
        </select>

        <h3>
            <strong>Question 10</strong>
        </h3>
        <h4>I'm not very creative person</h4>
        <select class="choosen-select" id="q10">
            <option value="empty"></option>
            <option value="1">1(Strongly Disagree)</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5(Strongly Agree)</option>
        </select>
        <button class="btn btn-primary btn-block" type="submit" id="submitButton"><i class="fa fa-check-circle" aria-hidden="true"></i><span>Submit</span></button>
    </div>
    <div id="results-modal" class="modal fade" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times</button>
                    <h2 class="modal-title"><strong>Best Match</strong></h2>

                </div>
                <div class="modal-body">
                    <h2 id="matchName"></h2>
                    <img id="matchImage" width="500" scr="">


                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>

        
    
</div>


<footer class="footer">
        
        <div class="container">
            <p>

                <a href="/api/friends">API Friends List </a> |
        </p>
        </div>
    </footer>


    

<script type="text/javascript">
    $("#submitButton").on("click", function (event) {
        event.preventDefault();
        var answer1 = $("#q1").val().trim();
        var answer2 = $("#q2").val().trim();
        var answer3 = $("#q3").val().trim();
        var answer4 = $("#q4").val().trim();
        var answer5 = $("#q5").val().trim();
        var answer6 = $("#q6").val().trim();
        var answer7 = $("#q7").val().trim();
        var answer8 = $("#q8").val().trim();
        var answer9 = $("#q9").val().trim();
        var answer10 = $("#q10").val().trim();
        if (isNaN(answer1) || isNaN(answer2) || isNaN(answer3) || isNaN(answer4) ||
            isNaN(answer5) || isNaN(answer6) || isNaN(answer7) || isNaN(answer8) ||
            isNaN(answer9) || isNaN(answer10)) {
            alert("Please answer all questions")
        } else {

            var newFriend = {
                name: $("#name").val().trim(),
                photo: $("#photo").val().trim(),
                scores: [
                    answer1,
                    answer2,
                    answer3,
                    answer4,
                    answer5,
                    answer6,
                    answer7,
                    answer8,
                    answer9,
                    answer10
                ]
            };

            $.post("/api/friends", newFriend,
                function (data) {
                    //implement logic
                    //get all friends 
                    var result = $.ajax({
                        url: "/api/friends",
                        method: "GET"
                    });
                    $("#matchName").html(data.matchName)
                    $("#matchImage").attr("src", data.matchImage);

                    $("#results-modal").modal("toggle");


                });






        }
    })
</script>


</body>

</html>